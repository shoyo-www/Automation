import 'dart:io';import 'dart:ui';import 'package:flutter/material.dart';import 'package:get/get.dart';import 'package:hotelautomationapp/Presentation/Home/home.dart';import 'package:hotelautomationapp/Presentation/facilities/facilities.dart';import 'package:hotelautomationapp/Presentation/reception/reception.dart';import 'package:hotelautomationapp/Presentation/services/services.dart';import 'package:hotelautomationapp/constants/appcolor.dart';import 'package:hotelautomationapp/constants/apptextstyle.dart';import 'package:hotelautomationapp/constants/constants.dart';import 'package:hotelautomationapp/constants/fontsize.dart';import 'package:hotelautomationapp/data/datasource/local/local_storage.dart';import 'package:hotelautomationapp/widgets/appScaffold.dart';class DashBoard extends StatefulWidget {  const DashBoard({    super.key,  });  @override  State<DashBoard> createState() => _DashBoardState();}class _DashBoardState extends State<DashBoard> {  int selectedIndex = 0;  List<Widget> pages = [];  onPage(int index) {    setState(() {      selectedIndex = index;    });  }  @override  void initState() {    if (Get.arguments != null && Get.arguments['index'] != null) {     int index = Get.arguments['index'];     selectedIndex = index;    } else {}    pages = [      const HomeScreen(),      const ReceptionScreen(),      const FacilitiesScreen(),      const ServicesScreen(),    ];    super.initState();  }  @override  Widget build(BuildContext context) {    return WillPopScope(        onWillPop: () async {          if (Platform.isAndroid) {            if (selectedIndex == 0) {            } else {}          }          return false;        },        child: AppScaffold(            bottom: false,            body: pages[selectedIndex],            bottomNavigationBar: OrientationBuilder(builder: (BuildContext context, Orientation orientation) {              if (orientation == Orientation.portrait) {                return ClipRRect(                    child: Theme(                      data: Theme.of(context).copyWith(                          highlightColor: AppColor.darkCardColor,                          splashColor: AppColor.darkCardColor),                      child: BackdropFilter(                          filter: ImageFilter.blur(sigmaX: 8, sigmaY: 8),                          child: Container(                            padding: EdgeInsets.only(top: Dimensions.h_8),                            color: AppColor.darkCardColor,                            child: BottomNavigationBar(                              selectedLabelStyle: AppTextStyle.normalTextStyle(                                  FontSize.sp_12, AppColor.appColor),                              unselectedLabelStyle: AppTextStyle.normalTextStyle(                                  FontSize.sp_12, AppColor.appColor),                              elevation: 0,                              type: BottomNavigationBarType.fixed,                              backgroundColor: AppColor.darkCardColor,                              selectedItemColor: AppColor.appColor,                              currentIndex: selectedIndex,                              unselectedItemColor: AppColor.neutral_600,                              selectedFontSize: FontSize.sp_12,                              unselectedFontSize: FontSize.sp_12,                              iconSize: Dimensions.h_15,                              onTap: (value) {                                setState(() {                                  selectedIndex = value;                                  value == 3 ? LocalStorage.clearValueByKey(GetXStorageConstants.serviceBack) : null;                                });                              },                              items: [                                BottomNavigationBarItem(                                    label: "Home",                                    icon: SizedBox(                                        height: Dimensions.h_15,                                        width: Dimensions.h_15,                                        child: selectedIndex == 0                                            ? Image.asset('assets/Home full.png')                                            : Image.asset('assets/Home border.png'))),                                BottomNavigationBarItem(                                    label: 'Reception',                                    icon: SizedBox(                                        height: Dimensions.h_15,                                        width: Dimensions.h_15,                                        child: selectedIndex == 1                                            ? Image.asset('assets/Reception fulll.png')                                            : Image.asset(                                            'assets/Reception border.png'))),                                BottomNavigationBarItem(                                    label: 'Facilities',                                    icon: SizedBox(                                        height: Dimensions.h_15,                                        width: Dimensions.h_15,                                        child: selectedIndex == 2                                            ? Image.asset('assets/Facility full.png')                                            : Image.asset(                                            'assets/Facility border.png'))),                                BottomNavigationBarItem(                                    label: 'Service',                                    icon: SizedBox(                                        height: Dimensions.h_15,                                        width: Dimensions.h_15,                                        child: selectedIndex == 3                                            ? Image.asset('assets/Service full.png')                                            : Image.asset(                                            'assets/Service Border.png'))),                              ],                            ),                          )),                    ));              }              return  ClipRRect(                  child: Theme(                    data: Theme.of(context).copyWith(                        highlightColor: AppColor.darkCardColor,                        splashColor: AppColor.darkCardColor),                    child: BackdropFilter(                        filter: ImageFilter.blur(sigmaX: 8, sigmaY: 8),                        child: Container(                          padding: EdgeInsets.only(top: Dimensions.h_6),                          color: AppColor.darkCardColor,                          child: BottomNavigationBar(                            selectedLabelStyle: AppTextStyle.normalTextStyle(                                FontSize.sp_6, AppColor.appColor),                            unselectedLabelStyle: AppTextStyle.normalTextStyle(                                FontSize.sp_6, AppColor.appColor),                            elevation: 0,                            type: BottomNavigationBarType.fixed,                            backgroundColor: AppColor.darkCardColor,                            selectedItemColor: AppColor.appColor,                            currentIndex: selectedIndex,                            unselectedItemColor: AppColor.neutral_600,                            selectedFontSize: FontSize.sp_6,                            unselectedFontSize: FontSize.sp_6,                            iconSize: Dimensions.h_8,                            onTap: (value) {                              setState(() {                                selectedIndex = value;                                value == 3 ? LocalStorage.clearValueByKey(GetXStorageConstants.serviceBack) : null;                              });                            },                            items: [                              BottomNavigationBarItem(                                  label: "Home",                                  icon: SizedBox(                                      height: Dimensions.h_15,                                      width: Dimensions.h_15,                                      child: selectedIndex == 0                                          ? Image.asset('assets/Home full.png')                                          : Image.asset('assets/Home border.png'))),                              BottomNavigationBarItem(                                  label: 'Reception',                                  icon: SizedBox(                                      height: Dimensions.h_15,                                      width: Dimensions.h_15,                                      child: selectedIndex == 1                                          ? Image.asset('assets/Reception fulll.png')                                          : Image.asset(                                          'assets/Reception border.png'))),                              BottomNavigationBarItem(                                  label: 'Facilities',                                  icon: SizedBox(                                      height: Dimensions.h_15,                                      width: Dimensions.h_15,                                      child: selectedIndex == 2                                          ? Image.asset('assets/Facility full.png')                                          : Image.asset(                                          'assets/Facility border.png'))),                              BottomNavigationBarItem(                                  label: 'Service',                                  icon: SizedBox(                                      height: Dimensions.h_15,                                      width: Dimensions.h_15,                                      child: selectedIndex == 3                                          ? Image.asset('assets/Service full.png')                                          : Image.asset(                                          'assets/Service Border.png'))),                            ],                          ),                        )),                  ));            },            )));  }}